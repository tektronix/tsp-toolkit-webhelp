{"pages":[{"id":1,"title":"TSP command reference","url":"_TSP_command_reference.htm","text":""},{"id":2,"title":"MP5000 trigger model commands","url":"132065.htm","text":"The TSP trigger model commands available for the MP5000 Series Modular Precision Mainframe and modules are listed in alphabetical order.  "},{"id":3,"title":"slot[Z].trigger.model.abort()","url":"114956.htm","text":"This function stops trigger model execution on the specified module.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.abort(\"\")  slot[Z].trigger.model.abort(\"triggerModelName\")  Z  Module slot number  triggerModelName  Name of the trigger model to abort  Details  This function stops the specified trigger model on the module. If no trigger model name is provided, it aborts all trigger models running on the slot.  Example 1  -- Abort the trigger model \"myTM\" on slot 1.  slot[1].trigger.model.abort(\"myTM\")  This example stops a trigger model that is running on the module in slot.  Example 2  -- Aborts all running trigger models on slot 1.  slot[1].trigger.model.abort()  This example shows how to abort all trigger models on the module in slot 1..  Also see  slot[Z].trigger.model.initiate()  "},{"id":4,"title":"slot[Z].trigger.model.addblock.branch.always()","url":"114960.htm","text":"This function defines a trigger model block that always branches to a specific block.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.branch.always(\"triggerModelName\", \"blockName\", \"branchToBlockName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the block to be added; an empty string is a valid block name  branchToBlockName  Name of the block to branch to on true condition  Details  When a trigger model reaches a branch-always trigger block, it goes to the block specified by branchToBlockName. This block must exist in the trigger model.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(0, 5, 6)  -- Create a trigger model named myTM.  slot[1].trigger.model.delete(\"myTM\")  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"SourceActionStep\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.005)  slot[1].trigger.model.addblock.branch.always(\"myTM\", \"\", \"SourceActionStep\")  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Abort the trigger model after 1 second.  delay(1.0)  slot[1].trigger.model.abort(\"myTM\")  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrate a trigger model that uses branch.always to repeatedly step through a linear sweep on channel 1 until aborting the trigger model.  Trigger model diagram  Also see  slot[Z].trigger.model.abort()  slot[Z].trigger.model.initiate()  "},{"id":5,"title":"slot[Z].trigger.model.addblock.branch.counter()","url":"114961.htm","text":"This function defines a trigger model block that branches to a block a specified number of times.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.branch.counter(\"triggerModelName\", \"blockName\", \"branchToBlockName\", targetCount)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the block to be added; an empty string is a valid block name  branchToBlockName  Name of the block to branch to when the condition is true  targetCount  Number of times to repeat the branch  Details  This command defines a trigger model block that branches to another block a specified number of times.  The counter starts at 0 when the trigger model begins and increments each time this block is reached. The counter is then compared to the specified targetCount.  If the counter is less than or equal to targetCount, the trigger model branches to the specified branchToBlockName in the trigger model. If the counter exceeds targetCount, the trigger model continues to the next block in sequence, and the counter is reset to 0.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(0, 5, 10)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"DelayBlock\", 0.1)  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"DelayBlock\", 10)  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates a trigger model that uses a branch counter block to step through a linear sweep on channel 1.  Trigger model diagram  Also see  None  "},{"id":6,"title":"slot[Z].trigger.model.addblock.branch.event()","url":"114966.htm","text":"This function defines a trigger model block that branches to another trigger model block when an event occurs.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.branch.event(\"triggerModelName\", \"blockName\", \"branchToBlockName\", eventId)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the block to be added; an empty string is a valid block name  branchToBlockName  Name of the block to branch to when the condition is true  eventId  The event that must occur before the trigger model branches to the specified block; see Details  Details  This block goes to a specified trigger model block after a specified trigger event occurs. If the trigger event has not yet occurred when the trigger model reaches the slot[Z].trigger.model.addblock.branch.event block, the trigger model continues to execute the blocks in the normal sequence. After the trigger event occurs, the trigger model proceeds to the specified trigger model block when the slot[Z].trigger.model.addblock.branch.event block is encountered.  After an event occurs and this block executes, the branch is taken and the event detector is cleared. The trigger event must occur again for the trigger model to execute to the block again; otherwise, the blocks are executed in the normal sequence.  If you set the branch event to none, an error is generated when you run the trigger model.  Trigger models containing a branch on event block cannot also contain a measure overlapped block.  The following table shows the constants for the events.  ID  Description  digio.trigger[N].EVENT_ID  Occurs when a digital I/O line changes state according to its configured trigger mode; N is 1 to ***Set DigioLines variable***  slot[Z].smu[X].trigger.EVENT_AT_LIMIT (SMUs only)  Occurs when the channel of a SMU limits the output to stay within user&#8209;defined constraints  slot[Z].trigger.model.EVENT_NOTIFYN  Occurs when the notify block of the trigger model is executed; N is 1 to 8 for SMUs and 1 to 16 for PSUs  trigger.generator[N].EVENT_ID  Trigger generator event; N is the generator number, 1 to 8  trigger.timer[N].EVENT_ID  Occurs when the timer delay of timer N elapses; N is 1 to 8  tsplink.trigger[N].EVENT_ID  Occurs when a TSP-Link line changes state according to its configured trigger mode; N is 1 to 3  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(5, 5, 1)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"start\", 1)  slot[1].trigger.model.addblock.branch.event(\"myTM\", \"\", \"end\", slot[1].trigger.model.EVENT_NOTIFY1)  slot[1].trigger.model.addblock.source.action.set(\"myTM\", \"start\", 1)  slot[1].trigger.model.addblock.logevent(\"myTM\", \"end\", slot[1].trigger.model.LOG_INFO1, \"End of Trigger Model\")  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This trigger model starts at bias level and sets 5 V unless EVENT_NOTIFY1 occurs, in which case it skips the voltage change and logs an event.  Trigger model diagram  Also see  Branch on event block  "},{"id":7,"title":"slot[Z].trigger.model.addblock.branch.once()","url":"114964.htm","text":"This function defines a trigger model block that branches to a specified trigger model block the first time it is encountered in the trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.branch.once(\"triggerModelName\", \"blockName\", \"branchToBlockName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block; an empty string is a valid block name  branchToBlockName  Name of the block to branch to on true condition  Details  This block causes the trigger model to branch to the specified branchToBlockName the first time it is encountered during execution. On subsequent passes, that block is skipped and the trigger model proceeds to the next block.  To reset this block to execute again, you must stop execution and initiate the trigger model again.  The block specified by branchToBlockName must exist in the trigger model before running.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(5, 5, 1)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.set(\"myTM\", \"start\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.branch.once(\"myTM\", \"\", \"start\")  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  --Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates how to create two pulses using branch.once in a trigger model.  Trigger model diagram  Also see  Branch once block  slot[Z].trigger.model.addblock.branch.onceexcluded()  "},{"id":8,"title":"slot[Z].trigger.model.addblock.branch.onceexcluded()","url":"114965.htm","text":"This function causes the trigger model to branch to a specified trigger model block every time it is encountered in the trigger model except for the first time.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.branch.onceexcluded(\"triggerModelName\", \"blockName\", \"branchToBlockName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block; an empty string is a valid block name  branchToBlockName  Name of the block to branch to on true condition  Details  This block is skipped the first time the trigger model encounters it; the trigger model proceeds to the next block. After the first encounter, the trigger model always branches to the specified block.  Thismblock resets automatically each time the trigger model is initiated.  The block specified by branchToBlockName must exist in the trigger model before running.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(5, 5, 1)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.set(\"myTM\", \"start\", 1)  slot[1].trigger.model.addblock.branch.onceexcluded(\"myTM\", \"\", \"end\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.branch.once(\"myTM\", \"end\", \"start\")  -- Turn on the output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  --Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates how to create a trigger model that pulses once, then stays at 5 V and exits using branch.onceexcluded.  Trigger model diagram  Also see  Branch once excluded block  slot[Z].trigger.model.addblock.branch.once()  "},{"id":9,"title":"slot[Z].trigger.model.addblock.configlist.next()","url":"115499.htm","text":"This function defines a trigger model block that recalls the settings stored at the next index of a configuration list.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.configlist.next(\"triggerModelName\", \"blockName\", channel, \"configlistName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the block to be added; an empty string is a valid block name  channel  Module channel number  configlistName  The name of the config list to recall  Details  When the trigger model reaches this block, the settings at the next index in the specified configuration list are restored.  On its first use in a trigger model, this block recalls index 1 unless an earlier recall block has already recalled a specific index. In that case, the block will continue from that point and recall the next index instead.  When the end of the list is reached, the trigger model starts again from index 1.  The configuration list must be defined before the trigger model uses this block.  Example  -- Create and store a 3-point configuration list.  slot[1].psu[1].configlist.create(\"myConfigList\")  slot[1].psu[1].source.levelv = 1.0  slot[1].psu[1].configlist.store(\"myConfigList\")  slot[1].psu[1].source.levelv = 2.0  slot[1].psu[1].configlist.store(\"myConfigList\")  slot[1].psu[1].source.levelv = 3.0  slot[1].psu[1].configlist.store(\"myConfigList\")  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.configlist.next(\"myTM\", \"\", 1, \"myConfigList\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.configlist.next(\"myTM\", \"\", 1, \"myConfigList\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.configlist.next(\"myTM\", \"\", 1, \"myConfigList\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn off the output.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates how to use the configlist.next() trigger model block to cycle through a 3-point configuration list.  The channel output steps through three voltage levels (1.0 V, 2.0 V, and 3.0 V) using three consecutive configlist.next() blocks with delays between each step.  Trigger model example  Also see  Config list next block  slot[Z].trigger.model.addblock.configlist.prev()  slot[Z].trigger.model.addblock.configlist.recall()  "},{"id":10,"title":"slot[Z].trigger.model.addblock.configlist.prev()","url":"115500.htm","text":"This function defines a trigger model block that recalls the settings that are stored in a configuration list.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.configlist.prev(\"triggerModelName\", \"blockName\", channel, \"configlistName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the block to be added; an empty string is a valid block name  channel  Module channel number  configlistName  A string that defines the configuration list to recall  Details  When the trigger model reaches a configuration list previous block, the settings for the previous index in the specified configuration list are restored.  On the first use in a trigger model, this block recalls the last index unless an earlier recall block has already recalled a specific index. In that case, the block will continue from that point and recall the previous index instead.  When the beginning of the list is reached, the trigger model continues from the last index in the list.  The configuration list must be defined before the trigger model uses this block.  Example  -- Create and store a 3-point configuration list.  slot[1].psu[1].configlist.create(\"myConfigList\")  slot[1].psu[1].source.levelv = 1.0  slot[1].psu[1].configlist.store(\"myConfigList\")  slot[1].psu[1].source.levelv = 2.0  slot[1].psu[1].configlist.store(\"myConfigList\")  slot[1].psu[1].source.levelv = 3.0  slot[1].psu[1].configlist.store(\"myConfigList\")  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.configlist.prev(\"myTM\", \"\", 1, \"myConfigList\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.configlist.prev(\"myTM\", \"\", 1, \"myConfigList\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.configlist.prev(\"myTM\", \"\", 1, \"myConfigList\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  --Turn the source off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates how to use the configlist.prev() trigger model block to cycle through a 3-point configuration list.  The channel output steps through three voltage levels (3.0 V, 2.0 V, and 1.0 V) using three consecutive configlist.prev blocks with delays between each step.  Trigger model diagram  Also see  Config list prev block  slot[Z].trigger.model.addblock.configlist.next()  slot[Z].trigger.model.addblock.configlist.recall()  "},{"id":11,"title":"slot[Z].trigger.model.addblock.configlist.recall()","url":"115501.htm","text":"This function recalls the settings that are stored in a configuration list.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.configlist.recall(\"triggerModelName\", \"blockName\", channel, \"configlistName\")  slot[Z].trigger.model.addblock.configlist.recall(\"triggerModelName\", \"blockName\", channel, \"configlistName\", index)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the block to be added; an empty string is a valid block name  channel  Module channel number  configlistName  A string that defines the configuration list to recall  index  The index in the configuration list to recall; defaults to 1 if no index is specified  Details  When the trigger model reaches a configuration list recall block, the settings in the specified configuration list are recalled.  You can recall a specific set of configuration settings in the configuration list by specifying its index.  The configuration list must be defined before you can use this block. If one of the indexes for the configuration list changes (because of an item being added or removed from a configuration list), verify that the trigger model count is still accurate.  Example  -- Create and store a 3-point configuration list.  slot[1].psu[1].configlist.create(\"myConfigList\")  slot[1].psu[1].source.levelv = 1.0  slot[1].psu[1].configlist.store(\"myConfigList\")  slot[1].psu[1].source.levelv = 2.0  slot[1].psu[1].configlist.store(\"myConfigList\")  slot[1].psu[1].source.levelv = 3.0  slot[1].psu[1].configlist.store(\"myConfigList\")  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.configlist.recall(\"myTM\", \"\", 1, \"myConfigList\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.configlist.recall(\"myTM\", \"\", 1, \"myConfigList\", 3)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  --Turn output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates how to use the configlist.recall() trigger model block to cycle through a 3-point configuration list.  The channel output steps through two voltage levels (1.0 V and 3.0 V) using two configlist.recall blocks with delays between each step.  Trigger model diagram  Also see  Config list recall block  slot[Z].trigger.model.addblock.configlist.next()  slot[Z].trigger.model.addblock.configlist.prev()  Config list commands  slot[Z].psu[X].configlist.create()  slot[Z].smu[X].configlist.create()  slot[Z].psu[X].configlist.delete()  slot[Z].smu[X].configlist.delete()  slot[Z].psu[X].configlist.recall()  slot[Z].smu[X].configlist.recall()  slot[Z].psu[X].configlist.size()  slot[Z].smu[X].configlist.size()  slot[Z].psu[X].configlist.store()  slot[Z].smu[X].configlist.store()  slot[Z].psu[X].configlist.table()  slot[Z].smu[X].configlist.table()  "},{"id":12,"title":"slot[Z].trigger.model.addblock.delay.constant()","url":"114967.htm","text":"This function defines a trigger model block that adds a constant delay to the execution of a trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.delay.constant(\"triggerModelName\", \"blockName\", delayTime)  slot[Z].trigger.model.addblock.delay.constant(\"triggerModelName\", \"blockName\", delayTime, \"referenceBlockName\")  slot[Z].trigger.model.addblock.delay.constant(\"triggerModelName\", \"blockName\", {delayList})  slot[Z].trigger.model.addblock.delay.constant(\"triggerModelName\", \"blockName\", {delayList}, \"referenceBlockName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the block to be added  delayTime  Time delay as a positive value: 0.000001&nbsp;s to 1,000,000 s  referenceBlockName  Trigger model block to use for the start time of the delay; see Details  delayList  Table of delay intervals in seconds; see Details  Details  When the trigger model reaches this block, it pauses for a specified time. If referenceBlockName is specified, the trigger model pauses for the time delay since the start of the reference block.  If a reference block was not visited before the delay block, the entry time of the trigger model is used.  When delayList is defined, for each time the delay block is encountered in the trigger model, the next value in the list is used as the delay time. After all elements in the array have been used, the delays restart at the beginning of the list.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(2, 4, 2)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"Step2\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1, \"Step2\")  -- Turn on output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates a trigger model that performs a source action step, delays 100 ms, performs a second step, and then delays another 100 ms (second delay is referenced to the start of the second step).  Trigger model diagram  Also see  None  "},{"id":13,"title":"slot[Z].trigger.model.addblock.logevent()","url":"115503.htm","text":"This function defines a trigger model block that logs an event in the event log.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.logevent(\"triggerModelName\", \"blockName\", eventType, \"message\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the block to be added; an empty string is a valid block name  eventType  The type of event and event number; see Details  message  Message to display in the event log, up to 31 characters  Details  This block allows you to log an event in the event log when trigger model execution reaches this block. You can also force the trigger model to abort with this block. When the trigger model executes the block, the defined event is logged. If the abort option is selected, the trigger model is also aborted immediately.  The eventType parameter defines the type of event:  Information: trigger.LOG_INFON  Warning: trigger.LOG_WARNN  Error: trigger.LOG_ERRORN  Abort: trigger.LOG_WARN_ABORT  Where N is 1 to 4. You can define up to four events of each type.  You can also set eventNumber to trigger.LOG_WARN_ABORT, which aborts the trigger model immediately and posts a warning event log message.  All events generated by this block are logged in the event log. Warning and error events are also displayed on the front&#8209;panel display.   If you use this block too often in a trigger model, it could overflow the event log. The log event block takes additional time to record the event and may impact timing in critical paths. Avoid using this block in time-sensitive sections of the trigger model, such as when there must be a precise delay between two trigger model blocks or actions.  Example  -- Create the trigger model  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].OFF)  slot[1].trigger.model.addblock.logevent(\"myTM\", \"\", slot[1].trigger.model.LOG_INFO1, \"Output Off\")  -- Initiate the trigger model  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete  waitcomplete()  This example logs an information message (Output Off) immediately after the output is turned off by the source output block.  Trigger model diagram  Also see  Log event block  "},{"id":14,"title":"slot[Z].trigger.model.addblock.measure()","url":"114968.htm","text":"This function defines a trigger block that makes a measurement.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.measure(\"triggerModelName\", \"blockName\", channel)  slot[Z].trigger.model.addblock.measure(\"triggerModelName\", \"blockName\", channel, count)  slot[Z].trigger.model.addblock.measure(\"triggerModelName\", \"blockName\", {channelList})  slot[Z].trigger.model.addblock.measure(\"triggerModelName\", \"blockName\", {channelList}, count)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block; an empty string is a valid block name  channel  Channel to perform the measurement on  count  Number of measurements to make when this block is executed; if not defined, the configured measurement count of the channel is used  channelList  Table of channels to make measurements on; for example:<br>{channel1, channel2,...}; see Details  Details  This block triggers measurements based on the measurement function that is selected when the trigger model is initiated. When trigger model execution reaches this block:  The instrument begins making measurements  The trigger model waits for the measurement to be made  You can specify one or more channels for the measurement to run on using channelList. All measurements run all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.  All specified channels must be present on the module running the trigger model. If more than one channel is specified, the measure count for each channel must be the same unless a count value is also specified.     If count is specified, it overrides the measure count configured for the channels by slot[Z].psu[X].measure.count() or slot[Z].smu[X].measure.count().  If you are using a SMU in your trigger model, configured measure delays are imposed when the SMU encounters the measure action block.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(5, 5, 1)  -- Configure the measurement.  READING_BUFFER = slot[1].psu[1].makebuffer(10)  slot[1].psu[1].trigger.measure.v(READING_BUFFER)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.measure(\"myTM\", \"\", 1, 1)  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.measure(\"myTM\", \"\", 1, 1)  -- Turn on the output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  -- Print the measurement results.  printbuffer(1, READING_BUFFER.n, READING_BUFFER)  This example demonstrates a trigger model that captures one measurement for source step and another measurement for source bias in a linear sweep.  Trigger model diagram  Also see  Measure block  "},{"id":15,"title":"slot[Z].trigger.model.addblock.measureoverlapped()","url":"114969.htm","text":"This function defines a trigger model block that starts a measurement in an overlap state (in the background), allowing the trigger model to continue execution without waiting for the measurement to complete.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.measureoverlapped(\"triggerModelName\", \"blockName\", channel)  slot[Z].trigger.model.addblock.measureoverlapped(\"triggerModelName\", \"blockName\", channel, count)  slot[Z].trigger.model.addblock.measureoverlapped(\"triggerModelName\", \"blockName\", {channelList})  slot[Z].trigger.model.addblock.measureoverlapped(\"triggerModelName\", \"blockName\", {channelList}, count)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block; an empty string is a valid block name  channel  Channel to make the measurement on  count  Number of measurements to make when this block starts  channelList  Table of channels to take measurements on; for example:  {channel1, channel2,...}; see Details  Details  This command is used only with SMU instruments.  This block triggers measurements based on the measure function that is selected when the trigger model is initiated. When trigger model execution reaches this block:  The instrument begins making measurements  The instrument processes the reading and places it into the specified reading buffer. If you are defining a reading buffer, you must create it before you define this block  You can specify one or more channels for the measurement to run on using channelList. All measurements run on on all specified channels at the same time, plus or minus 500 ns.  All channels must be present on the same module running the trigger model. Only one measure overlapped block may exist on a channel; there may be no other measure or measure overlapped blocks for that channel.  When running the trigger model with the measure overlapped block, overlapped measurements can only be taken with source autoranging turned off.  To turn the source autoranging off, set the slot[Z].smu[X].source.autorangeY attribute to slot[Z].smu[X].OFF.  The source limit must be fixed during the running of the trigger model, and it cannot be altered by the config list.  Trigger models containing a measure overlapped block cannot also contain a branch on event block.  If any of the above items are incorrectly configured, then the slot[z].smu[x].trigger.model.initiate() function generates an error.  Example  -- Configure the sweep.  slot[1].smu[1].trigger.source.linearv(5, 5, 1)  -- Configure the source range.  slot[1].smu[1].source.rangev = 6  -- Configure the measurement.  READING_BUFFER = slot[1].smu[1].makebuffer(10)  slot[1].smu[1].trigger.measure.v(READING_BUFFER)  slot[1].smu[1].measure.aperture = 0.02  -- Create the trigger model  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.measureoverlapped(\"myTM\", \"\", 1, 10)  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  -- Turn on output before initiating the trigger model  slot[1].smu[1].source.levelv = 0  slot[1].smu[1].source.output = slot[1].smu[1].ON  -- Initiate the trigger model  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete  waitcomplete()  slot[1].smu[1].source.output = slot[1].smu[1].OFF  -- Print the measurement results  printbuffer(1, READING_BUFFER.n, READING_BUFFER)  This example demonstrates how to use the measureoverlapped block in a trigger model to perform 10 overlapped voltage measurements on SMU channel 1. Source range must be fixed when performing measure overlapped.  Trigger model diagram  Also see  Measure overlapped block  slot[Z].smu[X].source.autorangeY  slot[Z].smu[X].source.limitnY  slot[Z].smu[X].source.limitpY  slot[Z].smu[X].source.limitY  "},{"id":16,"title":"slot[Z].trigger.model.addblock.nop()","url":"114970.htm","text":"This function creates a placeholder block that performs no action in the trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.nop(\"triggerModelName\", \"blockName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the trigger block; an empty string is a valid block name  Details  This trigger block creates a placeholder that performs no action in the trigger model.  You can use this command to create a named block from which a trigger model branches forward or backward.  Example  -- Configure the source level.  slot[1].smu[1].source.levelv = 3  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].smu[1].OFF)  slot[1].trigger.model.addblock.nop(\"myTM\", \"nop2\")  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1, \"nop2\")  slot[1].trigger.model.addblock.branch.once(\"myTM\", \"\", \"nop2\")  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  This example demonstrates a trigger model that uses a no operation block for a delay timing reference and for a branch target by branch.counter.  Trigger model diagram  Also see  No output block  "},{"id":17,"title":"slot[Z].trigger.model.addblock.notify()","url":"114971.htm","text":"This function defines a trigger model block that generates a trigger event.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.notify(\"triggerModelName\", \"blockName\", eventId)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the trigger block; an empty string is a valid block name  eventId  slot[Z].trigger.model.EVENT_NOTIFYN, where N is the number of the notify event; see Details  Details  When trigger model execution reaches this block, the instrument generates a trigger event and immediately continues to the next block.  Other commands can reference the event that the notify block generates. For example, you can use the notify event as the stimulus of a hardware trigger line or the gating event for another trigger wait block to continue execution after waiting on the specific event generated by this notification.  You can define 1 to 16 notify events for PSU modules. You can define 1 to 8 for SMU modules.  Example  -- Create the trigger model myTM1.  slot[1].trigger.model.create(\"myTM1\")  slot[1].trigger.model.addblock.delay.constant(\"myTM1\", \"\", 0.1)  slot[1].trigger.model.addblock.notify(\"myTM1\", \"\", slot[1].trigger.model.EVENT_NOTIFY1)  slot[1].trigger.model.addblock.source.output(\"myTM1\", \"\", 1, slot[1].psu[1].ON)  -- Create the trigger model myTM2.  slot[1].trigger.model.create(\"myTM2\")  slot[1].trigger.model.addblock.wait(\"myTM2\", \"\", slot[1].trigger.model.EVENT_NOTIFY1)  slot[1].trigger.model.addblock.source.output(\"myTM2\", \"\", 2, slot[1].psu[2].ON)  -- Configure the source level.  slot[1].psu[1].source.levelv = 5  slot[1].psu[2].source.levelv = 5  -- Initiate the trigger models.  slot[1].trigger.model.initiate(\"myTM2\")  slot[1].trigger.model.initiate(\"myTM1\")  -- Wait for the trigger model to complete.  waitcomplete()  --Turn the outputs off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  slot[1].psu[2].source.output = slot[1].psu[2].OFF  This example demonstrates how to use the notify block in a trigger model to create a simple delay before turning on the output of channel 1. Trigger model myTM1 waits for 0.1 s before it notifies myTM2 to turn on the output of channel 2.  Trigger model diagram  Also see  Notify blocks  slot[Z].trigger.model.EVENT_NOTIFYN  "},{"id":18,"title":"slot[Z].trigger.model.addblock.reset.branch.counter()","url":"114972.htm","text":"This function defines a trigger model block that resets the count for a branch counter block.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.reset.branch.counter(\"triggerModelName\", \"blockName\", \"resetBranchCountBlockName\")  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the block to be added; an empty string is a valid block name  resetBranchCountBlockName  Name of the branch counter block to reset the count value to 0  Details  This command defines a trigger model building block that resets the count of the branch counter block specified by resetBranchCountBlockName.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(0, 5, 11)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.reset.branch.counter(\"myTM\", \"resetCount\", \"branchCounter\")  slot[1].trigger.model.addblock.branch.always(\"myTM\", \"\", \"branchCounter\")  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"step\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.branch.once(\"myTM\", \"\", \"resetCount\")  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"branchCounter\", \"step\", 10)  -- Turn on the output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates a trigger model using the reset.branch.counter block, where the branch counter resets to zero each time it branches, resulting in the model stepping 10 times.  Trigger model diagram  Also see  Reset branch count block  slot[Z].trigger.model.addblock.branch.counter()  "},{"id":19,"title":"slot[Z].trigger.model.addblock.source.action.bias()","url":"115504.htm","text":"This function defines a trigger model block that sets the source output level to the bias level.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.source.action.bias(\"triggerModelName\", \"blockName\", channel)  slot[Z].trigger.model.addblock.source.action.bias(\"triggerModelName\", \"blockName\", {channelList})  Z  Module slot number  triggerModelName  Name of the trigger model to which this block is added  blockName  Name of the trigger block; an empty string is a valid block name  channel  Channel number  channelList  Table of channels to make measurements on; for example:  {channel1, channel2,...}; see Details  Details  The bias level is defined by the *.source.levelY command, which must be configured before the trigger model starts. When this block is reached, the source output is set to the bias level. For example, if you want to return to 2 V on each step, set the source level to 2 V, then define the action bias block as part of the trigger model.  To create pulses that go to the voltage in the sweep array defined by the *.trigger.source.linearV, *.trigger.source.listV, and *.trigger.source.logV commands and then to the bias voltage, you can use this command with the slot[Z].trigger.model.addblock.source.action.step() command.  You can specify one or more channels for the source action to run on using channelList. All source actions run on all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.   All specified channels must be on the module that is running the trigger model.  Example  -- Configure the sweep.  slot[1].smu[1].trigger.source.linearv(0, 5, 10)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"step\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"step\", 10)  -- Turn on the output before the trigger model is initiated.  slot[1].smu[1].source.levelv = 0  slot[1].smu[1].source.output = slot[1].smu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn off the output.  slot[1].smu[1].source.output = slot[1].smu[1].OFF  This example demonstrates a trigger model that performs a linear voltage sweep with 10 steps. After each step, it delays 100 ms, returns to the bias level, delays another 100 ms, and repeats this sequence for all steps, resulting in 10 pulses with 100 ms intervals.  Trigger model diagram  Also see  slot[Z].trigger.model.addblock.source.action.skip()  slot[Z].trigger.model.addblock.source.action.step()  Source action bias block  Sweep configuration commands  slot[Z].psu[X].trigger.source.linearY()  slot[Z].smu[X].trigger.source.linearY()  slot[Z].psu[X].trigger.source.listY()  slot[Z].smu[X].trigger.source.listY()  slot[Z].psu[X].trigger.source.logY()  slot[Z].smu[X].trigger.source.logY()  "},{"id":20,"title":"slot[Z].trigger.model.addblock.source.action.set()","url":"132966.htm","text":"This function defines a trigger model block that sets the source output level to the value at the present index in the list of sweep values without advancing the index.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.source.action.set(\"triggerModelName\", \"blockName\", channel)  slot[Z].trigger.model.addblock.source.action.set(\"triggerModelName\", \"blockName\", {channelList})  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the block to be added; an empty string is a valid block name  channel  Channel number  channelList  Table of channels to make measurements on; for example:  {channel1, channel2, ...}. See Details.  Details  This block sets the source output to the sweep value at the present index without advancing to the next point. This allows you to apply the same value across multiple blocks or delay periods without changing the sweep position.  This block can be used in a trigger model to reapply or hold a source value for a specified time before proceeding. This command does not increment the sweep index, so repeated executions use the same value unless the index is modified using another action block.  The list of sweep values is created by one of the following commands:  slot[Z].smu[X].trigger.source.linearY  slot[Z].smu[X].trigger.source.listY  slot[Z].smu[X].trigger.source.logY  slot[Z].psu[X].trigger.source.linearY  slot[Z].psu[X].trigger.source.listY  slot[Z].psu[X].trigger.source.logY  You can specify one or more channels for the source action to run on using channelList. All source actions run on all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.   All specified channels must be on the module running the trigger model.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(0, 5, 5)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.set(\"myTM\", \"set\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.005)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"set\", 3)  slot[1].trigger.model.addblock.source.action.skip(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"set\", 5)  -- Turn on the output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This trigger model applies each step of a linear voltage sweep three times before advancing. It uses source.action.set to hold the current sweep value and repeats it with branch.counter before using source.action.skip to move to the next value.  Trigger model diagram  Also see  slot[Z].trigger.model.addblock.source.action.bias()  slot[Z].trigger.model.addblock.source.action.skip()  slot[Z].trigger.model.addblock.source.action.step()  Source action set block  Sweep configuration commands  slot[Z].psu[X].trigger.source.linearY  slot[Z].psu[X].trigger.source.listY()  slot[Z].psu[X].trigger.source.logY()  slot[Z].smu[X].trigger.source.linearY  slot[Z].smu[X].trigger.source.listY()  slot[Z].smu[X].trigger.source.logY()  "},{"id":21,"title":"slot[Z].trigger.model.addblock.source.action.skip()","url":"115827.htm","text":"This function defines a trigger model block that advances the index in the list of sweep values with no change to the source level.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.source.action.skip(\"triggerModelName\", \"blockName\", channel)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block to branch to; an empty string is a valid block name  channel  Channel number  Details  This command advances the index in the pre-defined list of sweep values with no change to the source level. The sweep list must be created before running the trigger model using one of the supported sweep configuration commands:  slot[Z].smu[X].trigger.source.linearY  slot[Z].smu[X].trigger.source.listY  slot[Z].smu[X].trigger.source.logY  slot[Z].psu[X].trigger.source.linearY  slot[Z].psu[X].trigger.source.listY  slot[Z].psu[X].trigger.source.logY  Each time this block is executed, the index is advanced one spot in the sweep list. Once the end of the sweep list is reached, the block returns to the the beginning of the list and starts again.  You can specify one or more channels for the source action to run on using channelList. All source actions run on all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.  All specified channels must be present on the module running the trigger model.  Example  -- Configure the sweep.  slot[1].psu[1].trigger.source.linearv(0, 5, 5)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.set(\"myTM\", \"set\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.005)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"set\", 3)  slot[1].trigger.model.addblock.source.action.skip(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"set\", 5)  -- Turn on the output before the trigger model is initiated.  slot[1].psu[1].source.levelv = 0  slot[1].psu[1].source.output = slot[1].psu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn off the output.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example demonstrates a trigger model that performs a linear sweep over five points. For each sweep point, it repeats the same step three times before advancing to the next point. This sequence is repeated for all sweep points.  Trigger model diagram  Also see  slot[Z].trigger.model.addblock.source.action.bias()  slot[Z].trigger.model.addblock.source.action.step()  slot[Z].trigger.model.addblock.source.output()  Source action skip block  Sweep configuration commands  slot[Z].psu[X].trigger.source.linearY  slot[Z].smu[X].trigger.source.linearY  slot[Z].psu[X].trigger.source.listY  slot[Z].smu[X].trigger.source.listY  slot[Z].psu[X].trigger.source.logY  slot[Z].smu[X].trigger.source.logY  "},{"id":22,"title":"slot[Z].trigger.model.addblock.source.action.step()","url":"114973.htm","text":"This function defines a trigger model block that advances the index in the list of sweep values for the specified channel and then sets the source value to the value at that index.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.source.action.step(\"triggerModelName\", \"blockName\", channel)  slot[Z].trigger.model.addblock.source.action.step(\"triggerModelName\", \"blockName\",  {channelList})  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block defining where to branch; an empty string is a valid block name  channel  Channel number  channelList  Table of channels to take measurements on; for example:  {channel1, channel2,...}. See Details.  Details  To create pulses that go to the voltage in the sweep array and then to the bias voltage, you can use this command with the slot[Z].trigger.model.addblock.source.action.bias() command.  This command advances the source output for the specified channel to the next value in the pre-defined sweep list. The sweep list must be created before running the trigger model using one of the supported sweep configuration commands.  slot[Z].smu[X].trigger.source.linearY  slot[Z].smu[X].trigger.source.listY  slot[Z].smu[X].trigger.source.logY  slot[Z].psu[X].trigger.source.linearY  slot[Z].psu[X].trigger.source.listY  slot[Z].psu[X].trigger.source.logY  Each time the block is executed, the sweep index increases by one, updating the output to the corresponding sweep value. Once the end of the sweep list is reached, it starts again at the beginning.  You can specify one or more channels for the source action to run on using channelList. All source actions run on all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.  All specified channels must be on the module running the trigger model.  Example  -- Configure the sweep.  slot[1].smu[1].trigger.source.linearv(0, 5, 10)  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.action.step(\"myTM\", \"step\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.action.bias(\"myTM\", \"\", 1)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.branch.counter(\"myTM\", \"\", \"step\", 10)  -- Turn on the output before the trigger model is initiated.  slot[1].smu[1].source.levelv = 0  slot[1].smu[1].source.output = slot[1].smu[1].ON  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn off the output.  slot[1].smu[1].source.output = slot[1].smu[1].OFF  This example demonstrates a trigger model that increases from 0 V to 5 V with 5 steps at 1 V for each step.  Trigger model diagram  Also see  slot[Z].trigger.model.addblock.source.action.bias()  slot[Z].trigger.model.addblock.source.action.skip()  Source action step block  Sweep configuration commands  slot[Z].psu[X].trigger.source.linearY  slot[Z].smu[X].trigger.source.linearY  slot[Z].psu[X].trigger.source.listY  slot[Z].smu[X].trigger.source.listY  slot[Z].psu[X].trigger.source.logY  slot[Z].smu[X].trigger.source.logY  "},{"id":23,"title":"slot[Z].trigger.model.addblock.source.output()","url":"114974.htm","text":"This function defines a trigger model block that turns the output source on or off.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.source.output(\"triggerModelName\", \"blockName\", channel, state)  slot[Z].trigger.model.addblock.source.output(\"triggerModelName\", \"blockName\", {channelList}, state)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block is added  blockName  Name of the trigger block to be added; an empty string is a valid block name  channel  Module channel number  channelList  Table of channels to make measurements on; for example:  {channel1, channel2,...}; see Details  state  PSUs<br>Turn the source off: slot[Z].psu.OFF  Turn the source on: slot[Z].psu.ON<br><br>SMUs<br>Turn the source off: slot[Z].smu.OFF  Turn the source on: slot[Z].smu.ON  Details  The source output block determines if the output source is turned on or off when the trigger model reaches this block. This block does not determine the settings of the output source, such as the output voltage level. The source settings are determined by either the present settings of the instrument or by a configuration list.  Although pulses can be created by turning the output on and off, the instrument typically performs multiple actions when turning the output on and off. For more precise timing, use the slot[Z].trigger.model.addblock.source.action.step() and slot[Z].trigger.model.addblock.source.action.bias() blocks to create pulses at the output.  You can specify one or more channels for the source action to run on using channelList. All source actions run on all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.  All specified channels must be on the module running the trigger model.  Example  -- Configure the source level.  slot[1].psu[1].source.levelv = 5.0  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].ON)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].OFF)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.1)  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  This example demonstrates how to use the source.output block in a trigger model to turn the output on and off with a delay.  Trigger model diagram  Also see  Source output block  "},{"id":24,"title":"slot[Z].trigger.model.addblock.wait()","url":"114975.htm","text":"This function defines a trigger model block that waits for up to four events before allowing the trigger model to continue.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.addblock.wait(\"triggerModelName\", \"blockName\", event)  slot[Z].trigger.model.addblock.wait(\"triggerModelName\", \"blockName\", event, clear)  slot[Z].trigger.model.addblock.wait(\"triggerModelName\", \"blockName\", event, clear, logic, event)  slot[Z].trigger.model.addblock.wait(\"triggerModelName\", \"blockName\", event, clear, logic, event, event)  slot[Z].trigger.model.addblock.wait(\"triggerModelName\", \"blockName\", event, clear, logic, event, event, event)  Z  Module slot number  triggerModelName  Name of the trigger model to which the block will be added  blockName  Name of the trigger block being added by this command; an empty string is a valid block name  event  The event that must occur before the trigger block allows trigger execution to continue (see Details)  clear  Determines how previously detected events are handled when entering the wait block:  Clear events: slot[Z].trigger.model.CLEAR_ENTER  Retain events: slot[Z].trigger.model.CLEAR_NEVER  logic  Specifies how multiple events are evaluated:  Continue the trigger model when all listed events have occurred: slot[Z].trigger.model.WAIT_AND  Continue the trigger model when any listed event occurs: slot[Z].trigger.model.WAIT_OR  Details  You can use this command to synchronize measurements with other instruments and devices. You can set the instrument to wait for the following events:  Notify  Command interface trigger  Digital input/output signals, such as digio and TSP-Link  The event can occur before trigger model execution reaches the wait block. If the event occurs after trigger model execution starts but before the trigger model execution reaches the wait block, the trigger model records the event.  When clear is set to CLEAR_ENTER, the wait responds only to events that occur after the trigger model enters the block. When it is set to CLEAR_NEVER, if required events already occurred, the trigger model continues immediately. For both options, all events are cleared when the wait block completes.  You can use the event IDs in the following table with this command.  ID  Description  digio.trigger[N].EVENT_ID  Occurs when a digital I/O line changes state according to its configured trigger mode; N is 1 to ***Set DigioLines variable***  slot[Z].smu[X].trigger.EVENT_AT_LIMIT (SMUs only)  Occurs when the channel of a SMU limits the output to stay within user&#8209;defined constraints  slot[Z].trigger.model.EVENT_NOTIFYN  Occurs when the notify block of the trigger model is executed; N is 1 to 8 for SMUs and 1 to 16 for PSUs  trigger.generator[N].EVENT_ID  Trigger generator event; N is the generator number, 1 to 8  trigger.timer[N].EVENT_ID  Occurs when the timer delay of timer N elapses; N is 1 to 8  tsplink.trigger[N].EVENT_ID  Occurs when a TSP-Link line changes state according to its configured trigger mode; N is 1 to 3  Example  -- Configure the digital I/O trigger.  digio.trigger[1].mode = digio.MODE_TRIGGER_OUT  digio.trigger[1].edge = digio.EDGE_RISING  -- Configure the source level.  slot[1].psu[1].source.levelv = 5  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.wait(\"myTM\", \"\", digio.trigger[1].EVENT_ID)  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].ON)  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Assert the digio trigger event to notify the trigger model.  digio.trigger[1].assert()  -- Wait for the trigger model to complete.  waitcomplete()  -- Turn the source output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example waits for a digital I/O trigger event to occur before turning on the output of a channel.  Trigger model diagram  Also see  Wait block  "},{"id":25,"title":"slot[Z].trigger.model.create()","url":"114957.htm","text":"This function creates a trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.create(\"triggerModelName\")  Z  Module slot number  triggerModelName  Name of the trigger model to create  Details  You can create multiple trigger models on a module. Each trigger model must have a unique name and must not be an empty string.  You can add trigger model blocks with the slot[Z].trigger.model.addblock.* series of functions. You must reference the name of the trigger model in each addblock command.  To start the trigger model, use slot[z].trigger.model.initiate(\"triggerModelName\").  Example  -- Configure the source level.  slot[1].psu[1].source.levelv = 5  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].ON)  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for trigger models to complete.  waitcomplete()  -- Turn the output off.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example creates a trigger model, adds a block, starts the trigger model, and then waits for it to complete.  Trigger model diagram  Also see  slot[Z].trigger.model.delete()  slot[Z].trigger.model.initiate()  "},{"id":26,"title":"slot[Z].trigger.model.delete()","url":"114958.htm","text":"This function deletes a trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.delete(\"triggerModelName\")  Z  Module slot number  triggerModelName  Name of the trigger model to delete  Details  This function deletes a trigger model. Attempting to delete a running trigger model will cause an error.  You can remove trigger model blocks with slot[Z].trigger.model.removeblock().  Example  slot[1].trigger.model.create(\"delete1\")  slot[1].trigger.model.delete(\"delete1\")  Creates and then deletes a trigger model named delete1 on the module installed in slot 1.  Also see  slot[Z].trigger.model.create()  slot[Z].trigger.model.initiate()  slot[Z].trigger.model.removeblock()  "},{"id":27,"title":"slot[Z].trigger.model.EVENT_NOTIFYN","url":"118323.htm","text":"This constant contains the trigger model notify event number.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Constant  Yes  Usage  eventId = slot[Z].trigger.model.EVENT_NOTIFYN  eventId  The trigger event number  Z  Module slot number  N  The notify event number; see Details  Details  Use this constant to to specify the event generated by a trigger model notify block or have other trigger objects respond to the event generated by the notify block.  To have another trigger object respond to trigger events generated by this notify block, set the stimulus of the other object to the value of this constant.  Valid notify event numbers (N) for PSU modules are from 1 to 16. For SMU modules, from 1 to 8.  Example  digio.trigger[1].mode = digio.MODE_TRIGGER_OUT  digio.trigger[1].stimulus = slot[1].trigger.model.EVENT_NOTIFY1  Sets digital I/O line 1 to be an output trigger line and configures the stimulus to be NOTIFY1 on slot 1. When EVENT_NOTIFY1 is encountered in the trigger model, digital I/O line 1 changes state.  Trigger model diagram  Also see  Notify blocks  slot[Z].trigger.model.addblock.notify()  "},{"id":28,"title":"slot[Z].trigger.model.initiate()","url":"114959.htm","text":"This function starts a specified trigger model on a module.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.initiate(\"triggerModelName\")  Z  Module slot number  triggerModelName  Name of the trigger model to start  Details  This command starts the named trigger model. Once the function completes, the trigger model runs in the background and the function returns.  If any trigger model blocks are improperly configured, or if the trigger model is already running or has not been created, the trigger model will not start, and an error message will be returned.  To pause execution until a trigger model is complete, use waitcomplete(). To abort a running trigger model, use slot[Z].trigger.model.abort.  Example  slot[1].psu[1].source.levelv = 5  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].ON)  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for trigger models to complete.  waitcomplete()  -- Turn off the source output.  slot[1].psu[1].source.output = slot[1].psu[1].OFF  This example creates a trigger model, adds a block, starts the trigger model, and then waits for it to complete.  Trigger model diagram  Also see  slot[Z].trigger.model.abort  "},{"id":29,"title":"slot[Z].trigger.model.removeblock()","url":"115826.htm","text":"This function removes every trigger block with the specified name from the trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  slot[Z].trigger.model.removeblock(\"triggerModelName\", \"triggerBlockName\")  Z  Module slot number  triggerModelName  Name of the trigger model from which the trigger blocks will be removed  triggerBlockName  Name of the trigger blocks to remove  Details  When this command is executed, any block with the specified trigger block name in the named trigger model is removed. If either the trigger block name or the trigger model name does not exist, an error message is returned.  You can add trigger model blocks with the slot[Z].trigger.model.addblock.* series of functions.  Example  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].ON)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"\", 0.2)  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"Delay2\", 0.5)  slot[1].trigger.model.addblock.source.output(\"myTM\", \"\", 1, slot[1].psu[1].OFF)  -- Remove the second delay block.  slot[1].trigger.model.removeblock(\"myTM\", \"Delay2\")  -- Initiate the trigger model.  slot[1].trigger.model.initiate(\"myTM\")  -- Wait for the trigger model to complete.  waitcomplete()  This example uses the slot[Z].trigger.model.removeblock() command to delete an existing trigger model block. This prevents the second trigger model delay block (0.5 s) from starting when the trigger model is initiated.  Trigger model diagram  Also see  slot[Z].trigger.model.create()  slot[Z].trigger.model.delete()  slot[Z].trigger.model.initiate()  "},{"id":30,"title":"slot[Z].trigger.model.state()","url":"115506.htm","text":"This function returns the present state of the trigger model.  Type  TSP-Link accessible  Affected by  Where saved  Default value  Function  Yes  Usage  status = slot[Z].trigger.model.state(\"triggerModelName\")  status  The status of the trigger model:  STATE_ABORTED  STATE_ABORTING  STATE_BUILDING  STATE_EMPTY  STATE_FAILED  STATE_IDLE  STATE_RUNNING  Z  Module slot number  triggerModelName  Name of the trigger model  Details  This function returns the state of the trigger model. The instrument checks the state of a trigger model as the model executes. A trigger model name is required; an empty set of parentheses will cause an error.  The trigger model states are:  Aborted: The trigger model is stopped  Aborting: The trigger model is stopping  Building: Blocks have been added  Empty: The trigger model is created, but no blocks are defined  Failed: The trigger model is stopped because of an error  Idle: The trigger model has completed and is now stopped  Running: The trigger model is running  Example  -- Create the trigger model.  slot[1].trigger.model.create(\"myTM\")  -- Print the state of the trigger model.  print(slot[1].trigger.model.state(\"myTM\"))  -- Add a delay constant block to the trigger model.  slot[1].trigger.model.addblock.delay.constant(\"myTM\", \"delay\", 0.1)  -- Print the state of the trigger model again.  print(slot[1].trigger.model.state(\"myTM\"))  This example demonstrates how to create a trigger model, check its state, add a delay block, and check its state again.  Also see  slot[Z].trigger.model.abort()  slot[Z].trigger.model.initiate()  "}]}