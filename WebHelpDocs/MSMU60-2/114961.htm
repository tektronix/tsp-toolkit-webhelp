<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> slot[Z].trigger.model.addblock.branch.counter() </title>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="Generator" content="Author-it">
<meta name="Keywords" content="">
<link rel="stylesheet" type="text/css" href="16408.css">
<script language="javascript" type="text/javascript" charset="UTF-8" src="dhtml_toc.js"></script>
</head>
<body onload="if (isTOCLoaded()) {expand('116607');expand('18079');highlight('114961')}" text="#000000" link="#0000A0" alink="#008000" vlink="#FF0000"><table class="relatedtopics aboveheading" cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td width= "18">
<p class="bodytext"><a href="114960.htm" target="_self"><img id="f125" src="4200a_lc_previous_button.png" class="linkedpngtemplate4200a-nocaption" alt="Previous Icon" height="23" width="74" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
<td width= "18">
<p class="bodytext"><a href="114966.htm" target="_self"><img id="f124" src="4200a_lc_next_button.png" class="linkedpngtemplate4200a-nocaption" alt="Next Icon" height="23" width="74" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
</tr>
</table>
<h2 id="t114961" class="heading2-icl">slot[Z].trigger.model.addblock.branch.counter()</h2>
<p class="bodyzero">This function defines a trigger model block that branches to a block a specified number of times.</p>
<table class="tableintopic" width="672" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #D3D3D3">
<tr align="left" valign="top">
<th bgcolor="#191970" style="border:1px solid #D3D3D3;" width="86"><p class="tableheadingwhitetext">Type</p>
</th>
<th bgcolor="#191970" style="border:1px solid #D3D3D3;" width="120"><p class="tableheadingwhitetext">TSP-Link accessible</p>
</th>
<th bgcolor="#E4E4E4" style="border:1px solid #D3D3D3;" width="144"><p class="tableheading"><span class="grayedout">Affected by</span></p>
</th>
<th bgcolor="#E4E4E4" style="border:1px solid #D3D3D3;" width="144"><p class="tableheading"><span class="grayedout">Where saved</span></p>
</th>
<th bgcolor="#E4E4E4" style="border:1px solid #D3D3D3;" width="178"><p class="tableheading"><span class="grayedout">Default value</span></p>
</th>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #D3D3D3;" width="86"><p class="tablebodytextsmall">Function</p>
</td>
<td style="border:1px solid #D3D3D3;" width="120"><p class="tablebodytextsmall">Yes</p>
</td>
<td style="border:1px solid #D3D3D3;" width="144"><p class="tablebodytextsmall">&nbsp;</p>
</td>
<td style="border:1px solid #D3D3D3;" width="144"><p class="tablebodytextsmall">&nbsp;</p>
</td>
<td style="border:1px solid #D3D3D3;" width="178"><p class="tablebodytextsmall">&nbsp;</p>
</td>
</tr>

</table>
<p class="iclsubheading">Usage</p>
<p class="iclcode"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].trigger.model.addblock.branch.counter(&quot;</code><span class="monospaceitalic">triggerModelName</span><code class="monospace">&quot;, &quot;</code><span class="monospaceitalic">blockName</span><code class="monospace">&quot;, &quot;</code><span class="monospaceitalic">branchToBlockName</span><code class="monospace">&quot;, </code><span class="monospaceitalic">targetCount</span><code class="monospace">)</code></p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="156"><p class="codetable"><span class="monospaceitalic">Z</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="444"><p class="tablebodytext">Module slot number</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="156"><p class="codetable"><span class="monospaceitalic">triggerModelName</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="444"><p class="tablebodytext">Name of the trigger model to which the block will be added</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="156"><p class="codetable"><span class="monospaceitalic">blockName</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="444"><p class="tablebodytext">Name of the block to be added</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="156"><p class="codetable"><span class="monospaceitalic">branchToBlockName</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="444"><p class="tablebodytext">Name of the next block to run</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="156"><p class="codetable"><span class="monospaceitalic">targetCount</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="444"><p class="tablebodytext">Number of times to repeat the branch</p>
</td>
</tr>

</table>
<p class="iclsubheading">Details</p>
<p class="iclbody">This command defines a trigger model block that branches to another block a specified number of times.</p>
<p class="iclbody">The counter resets to 0 when the trigger model starts, and it it is incremented each time the trigger model reaches the counter block. After incrementing the counter, if the counter is less than or equal to <span class="monospaceitalic">targetCount</span>, the trigger model will go to the <span class="monospaceitalic">branchToBlockName</span> block. Otherwise it will go to the next block in the sequence.</p>
<p class="iclbody">If you are using remote commands, you can query the counter. The counter is incremented immediately before the branch compares the actual counter value to the set counter value. Therefore, the counter is at 0 until the first comparison. When the trigger model reaches the set counter value, branching stops and the counter value is one greater than the setting.If the branch is not taken, the counter resets to 0.</p>
<p class="iclsubheading">Example</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #D3D3D3;" width="600"><p class="codetable">SLOT = 1</p>
<p class="codetable">STEPS = 10</p>
<p class="codetable">ALIAS = slot[SLOT].trigger</p>
<p class="codetable">slot[SLOT].smu[1].trigger.source.linearv(0,5,STEPS) </p>
<p class="codetable">ALIAS.model.create(&quot;branchcounter1&quot;)</p>
<p class="codetable">ALIAS.model.addblock.source.output(&quot;branchcounter1&quot;, &quot;sourceoutput1&quot;, 1, 1)</p>
<p class="codetable">ALIAS.model.addblock.delay.constant(&quot;branchcounter1&quot;, &quot;delay2&quot;, 0.1)</p>
<p class="codetable">ALIAS.model.addblock.source.action(&quot;branchcounter1&quot;, &quot;sourceaction3&quot;, 1, 0)</p>
<p class="codetable">ALIAS.model.addblock.branch.counter(&quot;branchcounter1&quot;, &quot;branchcounter4&quot;, &quot;delay2&quot;, STEPS*4)</p>
<p class="codetable">slot[SLOT].trigger.model.print(&quot;branchcounter1&quot;)</p>
<p class="codetable">slot[SLOT].trigger.model.initiate(&quot;branchcounter1&quot;)</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #D3D3D3;" width="600"><p class="tablebodytext">This example demonstrates a trigger model that uses branch-counter to linear sweep the output of channel1 four times. Note the assignment of the SLOT variable and change it accordingly.</p>
</td>
</tr>

</table>
<p class="iclsubheading">Also see</p>
<p class="listcommand">None</p>

</body>
</html>
