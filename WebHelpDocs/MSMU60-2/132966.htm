<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> slot[Z].trigger.model.addblock.source.action.set() </title>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<meta name="Generator" content="Author-it">
<meta name="Keywords" content="">
<link rel="stylesheet" type="text/css" href="16408.css">
<script language="javascript" type="text/javascript" charset="UTF-8" src="dhtml_toc.js"></script>
</head>
<body onload="if (isTOCLoaded()) {expand('18079');highlight('132966')}" text="#000000" link="#0000A0" alink="#008000" vlink="#FF0000"><table class="relatedtopics aboveheading" cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td width= "18">
<p class="bodytext"><a href="115504.htm" target="_self"><img id="f125" src="4200a_lc_previous_button.png" class="linkedpngtemplate4200a-nocaption" alt="Previous Icon" height="23" width="74" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
<td width= "18">
<p class="bodytext"><a href="115827.htm" target="_self"><img id="f124" src="4200a_lc_next_button.png" class="linkedpngtemplate4200a-nocaption" alt="Next Icon" height="23" width="74" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
</tr>
</table>
<h2 id="t132966" class="heading2-icl">slot[Z].trigger.model.addblock.source.action.set()</h2>
<p class="bodyzero">This function defines a trigger model block that sets the source output level to the value at the present index in the list of sweep values without advancing the index.</p>
<table class="tableintopic" width="672" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #D3D3D3">
<tr align="left" valign="top">
<th style="border:1px solid #D3D3D3;" width="86"><p class="tableheadingsmall">Type</p>
</th>
<th style="border:1px solid #D3D3D3;" width="120"><p class="tableheadingsmall">TSP-Link accessible</p>
</th>
<th style="border:1px solid #D3D3D3;" width="144"><p class="tableheading"><span class="grayedout">Affected by</span></p>
</th>
<th style="border:1px solid #D3D3D3;" width="144"><p class="tableheading"><span class="grayedout">Where saved</span></p>
</th>
<th style="border:1px solid #D3D3D3;" width="178"><p class="tableheading"><span class="grayedout">Default value</span></p>
</th>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #D3D3D3;" width="86"><p class="tablebodytextsmall">Function</p>
</td>
<td style="border:1px solid #D3D3D3;" width="120"><p class="tablebodytextsmall">Yes</p>
</td>
<td style="border:1px solid #D3D3D3;" width="144"><p class="tablebodytextsmall">&nbsp;</p>
</td>
<td style="border:1px solid #D3D3D3;" width="144"><p class="tablebodytextsmall">&nbsp;</p>
</td>
<td style="border:1px solid #D3D3D3;" width="178"><p class="tablebodytextsmall">&nbsp;</p>
</td>
</tr>

</table>
<p class="iclsubheading">Usage</p>
<p class="iclcode"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].trigger.model.</code>addblock.source.action.set<code class="monospace">(&quot;</code><span class="monospaceitalic">triggerModelName</span><code class="monospace">&quot;, &quot;</code><span class="monospaceitalic">blockName</span><code class="monospace">&quot;, </code><span class="monospaceitalic">channel</span><code class="monospace">)</code></p>
<p class="iclcode">slot[<span class="monospaceitalic">Z</span>].trigger.model.addblock.source.action.set(&quot;<span class="monospaceitalic">triggerModelName</span>&quot;, &quot;<span class="monospaceitalic">blockName</span>&quot;, {<span class="monospaceitalic">channelList</span>})</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="216"><p class="codetable"><span class="monospaceitalic">Z</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="384"><p class="tablebodytext">Module slot number</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="216"><p class="codetable"><span class="monospaceitalic">triggerModelName</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="384"><p class="tablebodytext">Name of the trigger model to which the block is added</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="216"><p class="codetable"><span class="monospaceitalic">blockName</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="384"><p class="tablebodytext">Name of the block to be added; an empty string is a valid block name</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="216"><p class="codetable"><span class="monospaceitalic">channel</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="384"><p class="tablebodytext">Channel number</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="216"><p class="codetable"><span class="monospaceitalic">channelList</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="384"><p class="tablebodytext">Table of channels to make measurements on; for example:</p>
<p class="tablebodytext"><code class="monospace">{channel1, channel2, ...}</code>. See <strong class="specialbold">Details</strong>.</p>
</td>
</tr>

</table>
<p class="iclsubheading">Details</p>
<p class="iclbody">This block sets the source output to the sweep value at the present index without advancing to the next point. This allows you to apply the same value across multiple blocks or delay periods without changing the sweep position.</p>
<p class="iclbody">This block can be used in a trigger model to reapply or hold a source value for a specified time before proceeding. This command does not increment the sweep index, so repeated executions use the same value unless the index is modified using another action block.</p>
<p class="iclbody">The list of sweep values is created by one of the following commands:</p>
<ul class="listbullet"><li class="listbullet"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].smu[</code><span class="monospaceitalic">X</span><code class="monospace">].trigger.source.linear</code><span class="monospaceitalic">Y</span></li><li class="listbullet"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].smu[</code><span class="monospaceitalic">X</span><code class="monospace">].trigger.source.list</code><span class="monospaceitalic">Y</span></li><li class="listbullet"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].smu[</code><span class="monospaceitalic">X</span><code class="monospace">].trigger.source.log</code><span class="monospaceitalic">Y</span></li><li class="listbullet"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].psu[</code><span class="monospaceitalic">X</span><code class="monospace">].trigger.source.linear</code><span class="monospaceitalic">Y</span></li><li class="listbullet"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].psu[</code><span class="monospaceitalic">X</span><code class="monospace">].trigger.source.list</code><span class="monospaceitalic">Y</span></li><li class="listbullet"><code class="monospace">slot[</code><span class="monospaceitalic">Z</span><code class="monospace">].psu[</code><span class="monospaceitalic">X</span><code class="monospace">].trigger.source.log</code><span class="monospaceitalic">Y</span></li></ul><p class="bodytext">You can specify one or more channels for the source action to run on using <span class="monospaceitalic">channelList</span>. All source actions run on all specified channels in parallel, plus or minus 500 ns. The trigger model then waits for all measurements to complete before continuing.<strong class="specialbold"> </strong></p>
<p class="bodytext">All specified channels must be on the module running the trigger model.</p>
<p class="iclsubheading">Example</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #D3D3D3;" width="600"><p class="codetable">-- Configure the sweep.</p>
<p class="codetable">slot[1].psu[1].trigger.source.linearv(0, 5, 5)</p>
<p class="codetable">&nbsp;</p>
<p class="codetable">-- Create the trigger model.</p>
<p class="codetable">slot[1].trigger.model.create(&quot;myTM&quot;)</p>
<p class="codetable">slot[1].trigger.model.addblock.source.action.set(&quot;myTM&quot;, &quot;set&quot;, 1)</p>
<p class="codetable">slot[1].trigger.model.addblock.delay.constant(&quot;myTM&quot;, &quot;&quot;, 0.005)</p>
<p class="codetable">slot[1].trigger.model.addblock.branch.counter(&quot;myTM&quot;, &quot;&quot;, &quot;set&quot;, 3)</p>
<p class="codetable">slot[1].trigger.model.addblock.source.action.skip(&quot;myTM&quot;, &quot;&quot;, 1)</p>
<p class="codetable">slot[1].trigger.model.addblock.branch.counter(&quot;myTM&quot;, &quot;&quot;, &quot;set&quot;, 5)</p>
<p class="codetable">&nbsp;</p>
<p class="codetable">-- Turn on the output before the trigger model is initiated.</p>
<p class="codetable">slot[1].psu[1].source.levelv = 0</p>
<p class="codetable">slot[1].psu[1].source.output = slot[1].psu[1].ON</p>
<p class="codetable">&nbsp;</p>
<p class="codetable">-- Initiate the trigger model.</p>
<p class="codetable">slot[1].trigger.model.initiate(&quot;myTM&quot;)</p>
<p class="codetable">&nbsp;</p>
<p class="codetable">-- Wait for the trigger model to complete.</p>
<p class="codetable">waitcomplete()</p>
<p class="codetable">&nbsp;</p>
<p class="codetable">-- Turn the output off.</p>
<p class="codetable">slot[1].psu[1].source.output = slot[1].psu[1].OFF</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #D3D3D3;" width="600"><p class="tablebodytext">This trigger model applies each step of a linear voltage sweep three times before advancing. It uses source.action.set to hold the current sweep value and repeats it with branch.counter before using source.action.skip to move to the next value.</p>
</td>
</tr>

</table>
<p class="iclsubheading">Trigger model diagram</p>
<p class="magicfigurecenter"><img id="f133340" src="mp5000_triggermodel_sourceactionset_lr.png" class="linkedepsandpngtemplatenofigurenumberortitle" alt="MP5000_TriggerModel_SourceActionSet.png" height="503" width="146" vspace="0" hspace="0" align="bottom" border="0"></p>
<p class="iclsubheading">Also see</p>
<p class="listcommand"><a id="h116806" class="jump" title="slot[Z].trigger.model.addblock.source.action.bias()" href="115504.htm" target="_self">slot[Z].trigger.model.addblock.source.action.bias()</a></p>
<p class="listcommand"><a id="h116898" class="jump" title="slot[Z].trigger.model.addblock.source.action.skip()" href="115827.htm" target="_self">slot[Z].trigger.model.addblock.source.action.skip()</a></p>
<p class="listcommand"><a id="h116807" class="jump" title="slot[Z].trigger.model.addblock.source.action.step()" href="114973.htm" target="_self">slot[Z].trigger.model.addblock.source.action.step()</a></p>
<p class="listcommand">Source action set block</p>
<p class="listcommand"></p>
<p class="listcommand"><strong class="specialbold">Sweep configuration commands</strong></p>
<p class="listcommand">slot[Z].psu[X].trigger.source.linearY</p>
<p class="listcommand">slot[Z].psu[X].trigger.source.listY()</p>
<p class="listcommand">slot[Z].psu[X].trigger.source.logY()</p>
<p class="listcommand">slot[Z].smu[X].trigger.source.linearY</p>
<p class="listcommand">slot[Z].smu[X].trigger.source.listY()</p>
<p class="listcommand">slot[Z].smu[X].trigger.source.logY()</p>

</body>
</html>
