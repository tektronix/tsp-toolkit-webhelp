<html><head><title> tspnet.read() </title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><style type="text/css">div.kpos {width:654px; left:0px; position:fixed;}table {border:1px solid #C0C0C0; padding-left:5px; float:right; clear:both;}td  {border:1px solid #C0C0C0;  padding-left:5px;}p.iclsubheading {clear:both;}p.iclspacing {clear:both; padding-left:55px;}p.iclcode {clear:both; padding-left:55px;}p.iclbody {clear:both; padding-left:55px;}h2.heading2-icl {clear:both; }br {clear:both;}hr {clear:both;}</style></head><body><div class="kpos"><table cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td width= "18">
<p class="bodytext"><a href="14078.html" target="_self"><img src="125.gif" alt="Previous Topic" height="17" width="18" vspace="0" hspace="0" align="top" border="0"></a></p></td>
<td width= "18">
<p class="bodytext"><a href="14080.html" target="_self"><img src="124.gif" alt="Next Topic" height="17" width="18" vspace="0" hspace="0" align="top" border="0"></a></p></td>
</tr>
</table>
<h2 class="heading2-icl">tspnet.read()</h2>
<p class="bodyzero">This function reads data from a remote device.</p>
<table width="825" cellpadding="2" cellspacing="0" border="2" style="border-collapse:collapse; border:2px solid #D3D3D3">
<tr align="left" valign="top">
<th bgcolor="#191970" style = "border:2px solid #D3D3D3;" width="128"><p class="tableheadingwhitetext">Type</p>
</th>
<th bgcolor="#191970" style = "border:2px solid #D3D3D3;" width="195"><p class="tableheadingwhitetext">TSP-Link accessible</p>
</th>
<th bgcolor="#E4E4E4" style = "border:2px solid #D3D3D3;" width="128"><p class="tableheading"><span class="grayedout">Affected by</span></p>
</th>
<th bgcolor="#E4E4E4" style = "border:2px solid #D3D3D3;" width="128"><p class="tableheading"><span class="grayedout">Where saved</span></p>
</th>
<th bgcolor="#E4E4E4" style = "border:2px solid #D3D3D3;" width="248"><p class="tableheading"><span class="grayedout">Default value</span></p>
</th>
</tr>
<tr align="left" valign="top">
<td style = "border:2px solid #D3D3D3;" width="128"><p class="tablebodytextsmall">Function</p>
</td>
<td style = "border:2px solid #D3D3D3;" width="195"><p class="tablebodytextsmall">Yes</p>
</td>
<td style = "border:2px solid #D3D3D3;" width="128"><p class="tablebodytextsmall">&nbsp;</p>
</td>
<td style = "border:2px solid #D3D3D3;" width="128"><p class="tablebodytextsmall">&nbsp;</p>
</td>
<td style = "border:2px solid #D3D3D3;" width="248"><p class="tablebodytextsmall">&nbsp;</p>
</td>
</tr>

</table>
<p class="iclsubheading">Usage</p>
<p class="iclcode"><em class="emphasis">results</em> = tspnet.read(<em class="emphasis">connectionID</em>)</p>
<p class="iclcode"><em class="emphasis">results</em> = tspnet.read(<em class="emphasis">connectionID</em>, <em class="emphasis">formatString</em>)</p>
<p class="iclspacing"></p>
<table width="750" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td style = "border:1px solid #C0C0C0;" width="174"><p class="tablebodytext"><span class="monospaceitalic">results</span></p>
</td>
<td style = "border:1px solid #C0C0C0;" width="576"><p class="tablebodytext">The return code from the function call</p>
</td>
</tr>
<tr align="left" valign="top">
<td style = "border:1px solid #C0C0C0;" width="174"><p class="tablebodytext"><span class="monospaceitalic">connectionID</span></p>
</td>
<td style = "border:1px solid #C0C0C0;" width="576"><p class="tablebodytext">The connection ID returned from <code class="monospace">tspnet.connect()</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td style = "border:1px solid #C0C0C0;" width="174"><p class="tablebodytext"><span class="monospaceitalic">formatString</span></p>
</td>
<td style = "border:1px solid #C0C0C0;" width="576"><p class="tablebodytext">Format string for the output, maximum of 10 specifiers</p>
</td>
</tr>

</table>
<p class="iclsubheading">Details</p>
<p class="iclbody">This command reads available data from the device and returns the number of arguments.</p>
<p class="iclbody">The format string can contain the following identifiers:</p>
<table width="742" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td width="142"><p class="codetable">%[width]s</p>
</td>
<td width="600"><p class="tablebodytext">Read data until the specific length</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="142"><p class="codetable">%[max width]t</p>
</td>
<td width="600"><p class="tablebodytext">Read data until the specific length or delimited by punctuation</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="142"><p class="codetable">%[max width]n</p>
</td>
<td width="600"><p class="tablebodytext">Read data until a newline or carriage return</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="142"><p class="codetable">%d</p>
</td>
<td width="600"><p class="tablebodytext">Read a number (delimited by punctuation)</p>
</td>
</tr>

</table>
<p class="iclbody">If <span class="monospaceitalic">formatString</span> is not provided, the command returns a string containing the data until a new line is reached. If no data is available, the TSP holds off operation until the requested data is available or until a timeout error is generated. Use <code class="monospace">tspnet.timeout</code> to specify the timeout period.</p>
<p class="iclbody">When reading from a TSP-enabled remote device, the TSP removes TSP prompts and places any errors received from the remote device into its own error queue. The TSP prefaces errors from the remote device with &quot;Remote Error,&quot; and follows this with the error number and error description.</p>
<p class="iclsubheading">Example</p>
<p class="iclspacing"></p>
<table width="750" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" width="442"><p class="codetable">tspnet.write(myID, &quot;*idn?\r\n&quot;)</p>
<p class="codetable">&nbsp;</p>
<p class="codetable">print(&quot;write/read returns:&quot;, tspnet.read(myID))</p>
</td>
<td width="308"><p class="tablebodytext">Send the <code class="monospace">&quot;*idn?\r\n&quot;</code> message to the device connected as <code class="monospace">myID</code>.</p>
<p class="tablebodytext">Display the response that is read from <code class="monospace">myID</code> (based on the <code class="monospace">*idn?</code> message).</p>
</td>
</tr>

</table>
<p class="iclsubheading">Also see</p>
<p class="iclbody"><a id="h14093" class="jumptemplate" title="tspnet.connect()" href="14074.html" target="_self">tspnet.connect()</a></p>
<p class="iclbody"><a id="h14094" class="jumptemplate" title="tspnet.disconnect()" href="14076.html" target="_self">tspnet.disconnect()</a></p>
<p class="iclbody"><a id="h14105" class="jumptemplate" title="tspnet.timeout" href="14084.html" target="_self">tspnet.timeout</a></p>
<p class="iclbody"><a id="h14111" class="jumptemplate" title="tspnet.write()" href="14089.html" target="_self">tspnet.write()</a></p>
<p class="allowpagebreak"></p>

<br/><hr/><p class="bodytext">Copyright (c) 2004-2010, Keithley Instruments, Inc.  All rights reserved.</p></div></body></html>

