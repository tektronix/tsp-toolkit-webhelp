<table class="relatedtopics aboveheading" cellpadding="0" cellspacing="0" border="0">
<tr valign="top">
<td width= "18">
<p class="bodytext"><a href="17284.htm" target="_self"><img id="f125" src="4200a_lc_previous_button.png" class="linkedpngtemplate4200a-nocaption" alt="Previous Icon" height="23" width="74" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
<td width= "18">
<p class="bodytext"><a href="17299.htm" target="_self"><img id="f124" src="4200a_lc_next_button.png" class="linkedpngtemplate4200a-nocaption" alt="Next Icon" height="23" width="74" vspace="0" hspace="0" align="bottom" border="0"></a></p></td>
</tr>
</table>

<h2 id="t17296" class="heading2-icl">channel.pattern.setimage()</h2>
<p class="bodyzero">This function creates a channel pattern and associates it with the specified name.</p>
<table class="tableintopic" width="672" cellpadding="2" cellspacing="0" border="2" style="border-collapse:collapse; border:2px solid #D3D3D3">
<tr align="left" valign="top">
<td bgcolor="#191970" style="border:2px solid #D3D3D3;" width="86"><p class="tableheadingwhitetext">Type</p>
</td>
<td bgcolor="#191970" style="border:2px solid #D3D3D3;" width="120"><p class="tableheadingwhitetext">TSP-Link accessible</p>
</td>
<td bgcolor="#191970" style="border:2px solid #D3D3D3;" width="144"><p class="tableheadingwhitetext">Affected by</p>
</td>
<td bgcolor="#191970" style="border:2px solid #D3D3D3;" width="144"><p class="tableheadingwhitetext">Where saved</p>
</td>
<td bgcolor="#191970" style="border:2px solid #D3D3D3;" width="178"><p class="tableheadingwhitetext">Default value</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:2px solid #D3D3D3;" width="86"><p class="tablebodytextsmall">Function</p>
</td>
<td style="border:2px solid #D3D3D3;" width="120"><p class="tablebodytextsmall">Yes</p>
</td>
<td style="border:2px solid #D3D3D3;" width="144"><p class="tablebodytextsmall">Instrument reset<br>Channel reset<br>Recall setup<br>Pole setting change</p>
</td>
<td style="border:2px solid #D3D3D3;" width="144"><p class="tablebodytextsmall">Create configuration script<br>Save setup</p>
</td>
<td style="border:2px solid #D3D3D3;" width="178"><p class="tablebodytextsmall">Not applicable</p>
</td>
</tr>

</table>
<p class="iclsubheading">Usage</p>
<p class="iclcode">channel.pattern.setimage(&quot;<em class="emphasis">channelList</em>&quot;, &quot;<span class="monospaceitalic">name</span>&quot;)</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="139"><p class="tablebodytext"><span class="monospaceitalic">channelList</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="461"><p class="tablebodytext">A string listing the channels, channel patterns, or analog backplane relays to use when creating the new channel&nbsp;pattern</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="139"><p class="tablebodytext"><span class="monospaceitalic">name</span></p>
</td>
<td style="border:1px solid #C0C0C0;" width="461"><p class="tablebodytext">A string representing the name to associate with the new channel pattern</p>
</td>
</tr>

</table>
<p class="iclsubheading">Details</p>
<p class="iclbody">If <span class="monospaceitalic">name</span> is used for an existing channel pattern, that pattern is overwritten with the new pattern channel image (if no errors occur). The previous image associated with the name is lost. The DMM configuration associated with the pattern remains unchanged in this scenario.</p>
<p class="iclbody">The channel pattern is not created if an error is detected. You can create a channel pattern with an empty <span class="monospaceitalic">channelList</span> parameter. This will create a pattern that has no channels or analog backplane relays associated with it. The behavior of using an empty pattern in a channel list parameter is dependent on the command. For example:</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.pattern.setimage(&quot;&quot;, &quot;Empty_pattern&quot;)</p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Creates an empty pattern.</p>
</td>
</tr>
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.close(&quot;Empty_pattern&quot;)</p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Generates error code 1115, &quot;Parameter error no valid channels in channel list.&quot;</p>
</td>
</tr>
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.exclusiveslotclose(&quot;Empty_pattern&quot;)</p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Generates error code 1115, &quot;Parameter error no valid channels in channel list.&quot;</p>
</td>
</tr>
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.open(&quot;Empty_pattern&quot;) </p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Generates error code 1115, &quot;Parameter error no valid channels in channel list.&quot;</p>
</td>
</tr>
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.exclusiveclose(&quot;Empty_pattern&quot;)</p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Opens any closed channels or analog backplane relays in the instrument.</p>
</td>
</tr>
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.close(&quot;Empty_pattern, 5005&quot;)</p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Closes channel 5005.</p>
</td>
</tr>
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="360"><p class="codetable">channel.exclusiveslotclose(&quot;Empty_pattern, 5003&quot;)</p>
</td>
<td style="border:1px solid #C0C0C0;" width="240"><p class="tablebodytext">Opens any closed channel on slot 5 and closes channel 3 on slot 5.</p>
</td>
</tr>

</table>
<p class="bodytext"></p>
<p class="iclbody">A channel pattern must include the analog backplane relays and the channels. Once a channel pattern is created, the only way to add a channel or analog backplane relay to an existing pattern is to delete the old pattern and recreate the pattern with the new items.</p>
<p class="iclbody">If you change a pole setting for a channel that is associated with a channel pattern, the channel pattern is deleted. Be sure to configure the pole setting for channels (<code class="monospace">channel.setpole</code>) before creating a channel pattern.</p>
<p class="iclbody">Channel patterns are stored when you run the <code class="monospace">createconfigscript()</code> command or <code class="monospace">setup.save()</code> command.</p>
<p class="iclbody">Channel patterns are lost when power is cycled. Use <code class="monospace">setup.recall()</code> or a script created with <code class="monospace">createconfigscript()</code> to restore them.</p>
<p class="iclbody">Including any channels of type digital I/O, DAC, and totalizer generates an error.</p>
<p class="iclbody">The following restrictions exist when naming a channel pattern:</p>
<ul class="listbullet"><li class="listbullet">The name must contain only letters, numbers, or underscores</li><li class="listbullet">The name must start with a letter</li><li class="listbullet">The name is case sensitive</li></ul><p class="iclbody">Examples of valid names:</p>
<ul class="listbullet"><li class="listbullet"><code class="monospace">Channels</code></li><li class="listbullet"><code class="monospace">Chans</code></li><li class="listbullet"><code class="monospace">chans</code></li><li class="listbullet"><code class="monospace">Path1</code></li><li class="listbullet"><code class="monospace">Path20</code></li><li class="listbullet"><code class="monospace">path_3</code></li></ul><p class="iclbody">Examples of invalid names:</p>
<ul class="listbullet"><li class="listbullet"><code class="monospace">1path</code> (invalid because it starts with a number)</li><li class="listbullet"><code class="monospace">my chans</code> (invalid because it contains a space)</li><li class="listbullet"><code class="monospace">My,chans</code> (invalid because it contains a comma)</li><li class="listbullet"><code class="monospace">Path1:10</code> ( invalid because it contains a colon)</li></ul><p class="iclbody">An error is generated if:</p>
<ul class="listbullet"><li class="listbullet">The <span class="monospaceitalic">name</span> parameter already exists as a label</li><li class="listbullet">Any channel is forbidden to close</li><li class="listbullet">Insufficient memory exists to create the channel pattern</li><li class="listbullet">The parameter string contains <code class="monospace">slot</code><span class="monospaceitalic">X</span> (where <em class="emphasis">X</em> equals 1 to 6) or <code class="monospace">allslots</code></li><li class="listbullet">The name parameter contains a space character</li><li class="listbullet">The pattern name exceeds 19 characters</li></ul><p class="iclsubheading">Example 1</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="600"><p class="codetable">channel.pattern.setimage(&quot;3001:3010&quot;, &quot;Channels&quot;)</p>
<p class="codetable">oldList = channel.pattern.getimage(&quot;Channels&quot;)</p>
<p class="codetable">newList = oldList .. &quot;, 3911&quot;</p>
<p class="codetable">channel.pattern.delete(&quot;Channels&quot;)</p>
<p class="codetable">channel.pattern.setimage(newList, &quot;Channels&quot;)</p>
<p class="codetable">channel.open(&quot;slot3&quot;)</p>
<p class="codetable">channel.close(&quot;Channels&quot;)</p>
<p class="codetable">print(channel.getclose(&quot;slot3&quot;))</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="600"><p class="tablebodytext">For this example, assume there is a Keithley Model 3721 or similar card in slot&nbsp;3.</p>
<p class="tablebodytext">Create a pattern.</p>
<p class="tablebodytext">Append a channel to the pattern by retrieving the pattern and recreating it.</p>
<p class="tablebodytext">Recreate the pattern with the new image.</p>
<p class="tablebodytext">Open all channels on slot&nbsp;3 and close the pattern <code class="monospace">Channels</code>.</p>
<p class="tablebodytext">Output:</p>
<p class="codetable">3001;3002;3003;3004;3005;3006;3007;3008;3009;3010;3911</p>
</td>
</tr>

</table>
<p class="iclsubheading">Example 2</p>
<p class="iclspacing"></p>
<table class="tableintopic" width="600" cellpadding="2" cellspacing="0" border="1" style="border-collapse:collapse; border:1px solid #C0C0C0">
<tr align="left" valign="top">
<td bgcolor="#E0E0E0" style="border:1px solid #C0C0C0;" width="600"><p class="codetable">channel.pattern.setimage(&quot;3001:3010&quot;, &quot;Channels&quot;)</p>
<p class="codetable">channel.open(&quot;slot3&quot;)</p>
<p class="codetable">channel.close(&quot;Channels, 3911&quot;)</p>
<p class="codetable">print(channel.getclose(&quot;slot3&quot;))</p>
</td>
</tr>
<tr align="left" valign="top">
<td style="border:1px solid #C0C0C0;" width="600"><p class="tablebodytext">An alternate solution to the example above is to create the pattern, then add the analog backplane relay when you close the channel. This eliminates the need to get the image, delete the image and recreate it.</p>
<p class="tablebodytext">Output:</p>
<p class="codetable">3001;3002;3003;3004;3005;3006;</p>
<p class="codetable">3007;3008;3009;3010;3911</p>
</td>
</tr>

</table>
<p class="iclsubheading">Also see</p>
<p class="listcommand"><a id="h18567" class="jump" title="createconfigscript()" href="17655.htm" target="_self">createconfigscript()</a></p>
<p class="listcommand"><a id="h780" class="jump" title="channel.pattern.catalog()" href="15934.htm" target="_self">channel.pattern.catalog()</a></p>
<p class="listcommand"><a id="h779" class="jump" title="channel.pattern.delete()" href="15935.htm" target="_self">channel.pattern.delete()</a></p>
<p class="listcommand"><a id="h776" class="jump" title="channel.pattern.getimage()" href="17284.htm" target="_self">channel.pattern.getimage()</a></p>
<p class="listcommand"><a id="h791" class="jump" title="channel.pattern.snapshot()" href="17299.htm" target="_self">channel.pattern.snapshot()</a></p>
<p class="listcommand"><a id="h773" class="jump" title="channel.setpole()" href="15949.htm" target="_self">channel.setpole()</a></p>
<p class="listcommand"><a id="h15086" class="jump" title="setup.save()" href="15083.htm" target="_self">setup.save()</a></p>
<p class="listcommand"><a id="h15085" class="jump" title="setup.recall()" href="66566.htm" target="_self">setup.recall()</a></p>


